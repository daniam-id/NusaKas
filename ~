> Saat ini, bot WhatsApp **langsung mendaftarkan user** saat pertama kali chat â€” padahal user belum isi data penting seperti nama, dll.  
>  
> **Harapan baru**:  
> User **tidak boleh otomatis terdaftar**. Saat pertama kali chat, bot harus menawarkan **dua opsi**:  
> 1. **Daftar via WhatsApp**  
> 2. **Daftar via Website**  
>  
> ---
>  
> ### ğŸ”¹ **Jika user pilih "Daftar via WhatsApp"**:  
> - Bot ajukan serangkaian pertanyaan interaktif (misal: â€œSiapa nama kamu?â€, â€œApa usaha kamu?â€)  
> - Simpan sementara di sesi (Redis/memcache)  
> - Setelah semua data lengkap â†’ tandai sebagai terdaftar â†’ arahkan ke dashboard (via link web jika perlu)  
>  
> ### ğŸ”¹ **Jika user pilih "Daftar via Website"**:  
> - Bot kirim **link web verifikasi OTP**:  
>   `https://app.nusakas.id/verify?otp=123456&phone=+6283188561866`  
> - Sistem:  
>   1. Generate OTP acak  
>   2. Simpan sementara: `{ otp: "123456", phone: "+62831...", status: "pending" }`  
>   3. Kirim link tersebut ke user via WhatsApp  
> - Saat user klik link:  
>   - Sistem cek OTP â†’ validasi â†’ tandai nomor sebagai terverifikasi  
>   - User diarahkan ke form **pelengkapan data profil di web**  
>   - Setelah submit â†’ sinkronkan data ke backend â†’ arahkan ke dashboard  
>  
> ---
>  
> ### ğŸ”¹ **Untuk user yang daftar via web (langkah awal di website)**:  
> Di halaman pendaftaran web, tampilkan **dua pilihan**:  
> - **Lanjutkan pendaftaran sepenuhnya di web**  
> - **Selesaikan pendaftaran via WhatsApp**  
>  
> #### â†’ Jika pilih **"via WhatsApp"**:  
> - User masukkan nomor WA di web  
> - Sistem:  
>   1. Generate OTP  
>   2. Simpan: `{ otp, phone, source: "web" }`  
>   3. Tampilkan instruksi: *â€œKirim kode OTP ini ke nomor bot: [KODE]â€*  
> - Bot WhatsApp terima pesan â†’ ekstrak OTP & nomor pengirim  
> - Cek: apakah OTP valid **dan sesuai dengan nomor yang dimasukkan di web?**  
>   - Jika **ya** â†’ bot mulai tanya data profil (nama, usaha, dll.)  
>   - Jika **tidak** â†’ tolak & minta ulang  
> - Setelah data WhatsApp lengkap â†’ sinkronkan dengan session web â†’ arahkan ke dashboard  
>  
> #### â†’ Jika pilih **"lanjut di web"**:  
> - User isi semua data profil langsung di web  
> - Di akhir form, minta **nomor WhatsApp untuk verifikasi**  
> - Kirim OTP ke bot â†’ user harus kirim kode ke nomor bot  
> - Bot terima â†’ validasi â†’ konfirmasi ke backend â†’ tandai user sebagai terverifikasi  
> - Data web + nomor WA disinkronkan â†’ selesai  
>  
> ---
>  
> **Prinsip utama**:  
> - **Tidak ada user yang "terdaftar otomatis"** hanya karena kirim pesan  
> - Semua user harus **verifikasi kepemilikan nomor** + **isi data wajib**  
> - Opsi **hybrid** harus konsisten: data dari web dan WA harus sinkron  

---

### ğŸ’¡ Catatan Teknis Penting:
- Gunakan **session berbasis nomor WA** (bukan cookie) untuk konsistensi antar platform  
- OTP harus ber-TTL (misal: 5 menit) dan **sekali pakai**  
- Simpan status pendaftaran: `pending_web`, `pending_wa`, `verified`, `completed`  
- Hindari duplikasi: jika user mulai di web lalu lanjut di WA, jangan buat akun baru â€” **lanjutkan session yang sama**

---

### ğŸ“Œ Contoh Respons Awal Bot (Saat Pertama Chat):
> ğŸ‰ *Selamat datang di NusaKas!*  
>  
> Hai Juragan! Untuk mulai, pilih cara daftar:  
> 1ï¸âƒ£ **Lanjutkan di WhatsApp** â†’ saya akan bantu isi data lewat sini  
> 2ï¸âƒ£ **Daftar di Website** â†’ saya kirim link verifikasi ke sini  